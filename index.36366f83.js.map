{"mappings":"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","sources":["src/js/calendar.js"],"sourcesContent":["// Calendar open/hide\nimport filterByDate from './date-filter';\n// Get refs\n\nconst refs = {\n  openModalBtn: document.querySelector('[data-modal-open]'),\n  modal: document.querySelector('[data-modal]'),\n  input: document.querySelector('.calendar-input'),\n  arrow: document.querySelector('.calendar__button-arrow'),\n  calendarBtn: document.querySelector('.calendar__button-calendar'),\n};\n\n// Add EventListener\n\nrefs.openModalBtn.addEventListener('click', toggleModal);\nwindow.addEventListener('click', hideModals);\n\n// Change styles on icons and hide calendar-wrapper\n\nfunction toggleModal() {\n  refs.modal.classList.toggle('is-hidden-wrapper');\n  refs.input.classList.toggle('is-active');\n  refs.arrow.classList.toggle('switched');\n  refs.calendarBtn.classList.toggle('switched-color');\n}\n\nfunction hideModals(evt) {\n  if (evt.target.closest('.calendar-form')) {\n    return;\n  }\n\n  if (refs.input.classList.contains('is-active')) {\n    changeStyleOfHiddingCalendar();\n  }\n}\n\nfunction changeStyleOfHiddingCalendar() {\n  refs.modal.classList.add('is-hidden-wrapper');\n  refs.input.classList.remove('is-active');\n  refs.arrow.classList.remove('switched');\n  refs.calendarBtn.classList.remove('switched-color');\n}\n\n// Rendered Calendar\n\nconst daysTag = document.querySelector('.days');\nconst currentDate = document.querySelector('.current-date');\nconst prevNextIcon = document.querySelectorAll('.calendar-icons span');\nconst nextYearIcon = document.querySelector('.calendar__button-next');\nconst prevYearIcon = document.querySelector('.calendar__button-prev');\n\n// getting new date, current year and month\nlet date = new Date(),\n  currDay = date.getDate(),\n  currMonth = date.getMonth(),\n  currYear = date.getFullYear();\n\n// storing full name of all months in array\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\nconst renderCalendar = number => {\n  let firstDayofMonth = new Date(currYear, currMonth, 1).getDay(), // getting first day of month\n    lastDateofMonth = new Date(currYear, currMonth + 1, 0).getDate(), // getting last date of month\n    lastDayofMonth = new Date(currYear, currMonth, lastDateofMonth).getDay(), // getting last day of month\n    lastDateofLastMonth = new Date(currYear, currMonth, 0).getDate(); // getting last date of previous month\n\n  let liTag = '';\n\n  for (let i = firstDayofMonth; i > 0; i--) {\n    // creating li of previous month last days\n    liTag += `<li class=\"inactive\">${lastDateofLastMonth - i + 1}</li>`;\n  }\n\n  for (let i = 1; i <= lastDateofMonth; i++) {\n    // creating li of all days of current month\n    // adding active class to li if the current day, month, and year matched\n    let isToday =\n      i === date.getDate() &&\n      currMonth === new Date().getMonth() &&\n      currYear === new Date().getFullYear();\n    //   ? 'active'\n    //   : '';\n    liTag += `<li class=\"${isToday}\">${i}</li>`;\n    //console.log(isToday);\n  }\n\n  for (let i = lastDayofMonth; i < 6; i++) {\n    // creating li of next month first days\n    liTag += `<li class=\"inactive\">${i - lastDayofMonth + 1}</li>`;\n  }\n\n  currentDate.innerText = `${months[currMonth]} ${currYear}`; // passing current mon and yr as currentDate text\n  daysTag.innerHTML = liTag;\n  // console.log(liTag);\n};\n\nrenderCalendar();\n\nprevNextIcon.forEach(icon => {\n  // getting prev and next icons\n  icon.addEventListener('click', () => {\n    // adding click event on both icons\n    // if clicked icon is previous icon then decrement current month by 1 else increment it by 1\n    currMonth = icon.id === 'prev' ? currMonth - 1 : currMonth + 1;\n    if (currMonth < 0 || currMonth > 11) {\n      // if current month is less than 0 or greater than 11\n      // creating a new date of current year & month and pass it as date value\n      date = new Date(currYear, currMonth, new Date().getDate());\n      currYear = date.getFullYear(); // updating current year with new date year\n      currMonth = date.getMonth(); // updating current month with new date month\n    } else {\n      date = new Date(); // pass the current date as date value\n    }\n    renderCalendar(); // calling renderCalendar function\n\n    paginationForMonth();\n  });\n});\n\n// pagination for years\nnextYearIcon.addEventListener('click', incrementYear);\nprevYearIcon.addEventListener('click', decrementYear);\n\nfunction incrementYear() {\n  if (currYear) {\n    currYear += 1;\n  }\n  renderCalendar(); // calling renderCalendar function\n\n  paginationForMonth();\n}\n\nfunction decrementYear() {\n  if (currYear) {\n    currYear -= 1;\n  }\n  renderCalendar(); // calling renderCalendar function\n\n  paginationForMonth();\n}\n\n// pagination for months\nfunction paginationForMonth() {\n  // take day from localStorage\n  let selectedDay = JSON.parse(localStorage.getItem('day'));\n  let daysArray = daysTag.childNodes;\n  daysArray.forEach(elem => {\n    if (elem.textContent === selectedDay) {\n      elem.classList.add('active');\n    }\n  });\n}\n\n// change day on click and show selected day in input\n\nlet selectedInputDate = null;\nlet selectedValueDay = null;\n\ndaysTag.addEventListener('click', evt => {\n  [...evt.currentTarget.children].forEach(item => {\n    item.classList.remove('active');\n  });\n\n  let selectedValueDay = evt.target.textContent;\n\n  evt.target.classList.add('active');\n\n  let month = (currMonth + 1).toString();\n\n  refs.input.value =\n    currYear +\n    '/' +\n    month.padStart(2, '0') +\n    '/' +\n    selectedValueDay.padStart(2, '0');\n\n  let selectedInputDate = refs.input.value;\n  filterByDate(selectedInputDate);\n\n  localStorage.setItem('day', JSON.stringify(selectedValueDay));\n  localStorage.setItem('date', JSON.stringify(selectedInputDate));\n\n  changeStyleOfHiddingCalendar();\n});\n\nlocalStorage.removeItem('day');\nlocalStorage.removeItem('date');\n"],"names":["$8nrFW","parcelRequire","$e68ac68539faebb3$var$refs","openModalBtn","document","querySelector","modal","input","arrow","calendarBtn","$e68ac68539faebb3$var$changeStyleOfHiddingCalendar","classList","add","remove","addEventListener","toggle","window","evt","target","closest","contains","$e68ac68539faebb3$var$daysTag","$e68ac68539faebb3$var$currentDate","$e68ac68539faebb3$var$prevNextIcon","querySelectorAll","$e68ac68539faebb3$var$nextYearIcon","$e68ac68539faebb3$var$prevYearIcon","$e68ac68539faebb3$var$date","Date","$e68ac68539faebb3$var$currMonth","getDate","getMonth","$e68ac68539faebb3$var$currYear","getFullYear","$e68ac68539faebb3$var$months","$e68ac68539faebb3$var$renderCalendar","number","firstDayofMonth","getDay","lastDateofMonth","lastDayofMonth","lastDateofLastMonth","liTag","i","concat","i1","isToday","i2","innerText","innerHTML","$e68ac68539faebb3$var$paginationForMonth","selectedDay","JSON","parse","localStorage","getItem","childNodes","forEach","elem","textContent","icon","id","$parcel$interopDefault","currentTarget","children","item","selectedValueDay1","month","toString","value","padStart","selectedInputDate1","$bY7WL","default","setItem","stringify","removeItem"],"version":3,"file":"index.36366f83.js.map"}